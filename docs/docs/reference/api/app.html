<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clockwork is a TypeScript-first, modular game engine workspace focused on ECS-driven runtime systems and a WebGL2 renderer stack.">
    <title>API Reference: qti-clockwork-app — Clockwork</title>
    <link rel="stylesheet" href="https://clockwork.quietterminal.co.uk/qtidocs.css">
</head>

<body>
    <div class="particles" id="particles"></div>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>
                    <img src="https://cdn.quietterminal.co.uk/6,19416eb58d" alt="Clockwork Logo">
                    <a href="../index.html">Clockwork</a>
                </h2>
                <p class="sidebar-tagline">Clockwork is a TypeScript-first, modular game engine workspace focused on ECS-driven runtime systems and a WebGL2 renderer stack.</p>
            </div>
            <nav class="sidebar-nav">
                <ul><li class='folder'><span class='folder-name'>architecture</span><ul><li><a href='/docs/architecture/determinism.html'>Determinism</a></li><li><a href='/docs/architecture/overview.html'>Overview</a></li><li><a href='/docs/architecture/plugin-system.html'>Plugin System</a></li><li><a href='/docs/architecture/runtime-lifecycle.html'>Runtime Lifecycle</a></li><li><a href='/docs/architecture/sequences.html'>Sequences</a></li></ul></li><li class='folder'><span class='folder-name'>core</span><ul><li class='folder'><span class='folder-name'>assets</span><ul><li><a href='/docs/core/assets/asset-cache.html'>Asset Cache</a></li></ul></li><li class='folder'><span class='folder-name'>audio</span><ul><li><a href='/docs/core/audio/audio-engine.html'>Audio Engine</a></li></ul></li><li class='folder'><span class='folder-name'>ecs</span><ul><li><a href='/docs/core/ecs/commands.html'>Commands</a></li><li><a href='/docs/core/ecs/components.html'>Components</a></li><li><a href='/docs/core/ecs/entities.html'>Entities</a></li><li><a href='/docs/core/ecs/overview.html'>Overview</a></li><li><a href='/docs/core/ecs/queries.html'>Queries</a></li><li><a href='/docs/core/ecs/resources.html'>Resources</a></li></ul></li><li class='folder'><span class='folder-name'>events</span><ul><li><a href='/docs/core/events/event-bus.html'>Event Bus</a></li></ul></li><li class='folder'><span class='folder-name'>input</span><ul><li><a href='/docs/core/input/input-manager.html'>Input Manager</a></li></ul></li><li class='folder'><span class='folder-name'>scheduler</span><ul><li><a href='/docs/core/scheduler/stages.html'>Stages</a></li><li><a href='/docs/core/scheduler/systems.html'>Systems</a></li><li><a href='/docs/core/scheduler/time.html'>Time</a></li></ul></li><li class='folder'><span class='folder-name'>serialization</span><ul><li><a href='/docs/core/serialization/world-serializer.html'>World Serializer</a></li></ul></li></ul></li><li><a href='/docs/faq.html'>Faq</a></li><li><a href='/docs/getting-started.html'>Getting Started</a></li><li class='folder'><span class='folder-name'>guides</span><ul><li><a href='/docs/guides/create-first-plugin.html'>Create First Plugin</a></li><li class='folder'><span class='folder-name'>decisions</span><ul><li><a href='/docs/guides/decisions/assets.html'>Assets</a></li><li><a href='/docs/guides/decisions/ecs-queries.html'>Ecs Queries</a></li><li><a href='/docs/guides/decisions/rendering.html'>Rendering</a></li><li><a href='/docs/guides/decisions/scheduler-stages.html'>Scheduler Stages</a></li></ul></li><li><a href='/docs/guides/gotchas.html'>Gotchas</a></li><li><a href='/docs/guides/mod-manifests.html'>Mod Manifests</a></li></ul></li><li><a href='/docs/index.html'>Index</a></li><li><a href='/docs/installation.html'>Installation</a></li><li><a href='/docs/packages.html'>Packages</a></li><li class='folder'><span class='folder-name'>platform</span><ul><li><a href='/docs/platform/tauri-bridge.html'>Tauri Bridge</a></li></ul></li><li><a href='/docs/quickstart.html'>Quickstart</a></li><li class='folder'><span class='folder-name'>reference</span><ul><li class='folder'><span class='folder-name'>api</span><ul><li><a href='/docs/reference/api/app.html' class='active'>App</a></li><li><a href='/docs/reference/api/assets.html'>Assets</a></li><li><a href='/docs/reference/api/audio.html'>Audio</a></li><li><a href='/docs/reference/api/ecs.html'>Ecs</a></li><li><a href='/docs/reference/api/events.html'>Events</a></li><li><a href='/docs/reference/api/gl.html'>Gl</a></li><li><a href='/docs/reference/api/index.html'>Index</a></li><li><a href='/docs/reference/api/input.html'>Input</a></li><li><a href='/docs/reference/api/materials.html'>Materials</a></li><li><a href='/docs/reference/api/passes.html'>Passes</a></li><li><a href='/docs/reference/api/scheduler.html'>Scheduler</a></li><li><a href='/docs/reference/api/serialization.html'>Serialization</a></li><li><a href='/docs/reference/api/shaders.html'>Shaders</a></li><li><a href='/docs/reference/api/tauri-bridge.html'>Tauri Bridge</a></li></ul></li><li><a href='/docs/reference/api-map.html'>Api Map</a></li><li><a href='/docs/reference/configuration-reference.html'>Configuration Reference</a></li><li class='folder'><span class='folder-name'>errors</span><ul><li><a href='/docs/reference/errors/core.html'>Core</a></li><li><a href='/docs/reference/errors/index.html'>Index</a></li><li><a href='/docs/reference/errors/platform.html'>Platform</a></li><li><a href='/docs/reference/errors/renderer.html'>Renderer</a></li></ul></li><li class='folder'><span class='folder-name'>examples</span><ul><li><a href='/docs/reference/examples/assets.html'>Assets</a></li><li><a href='/docs/reference/examples/ecs.html'>Ecs</a></li><li><a href='/docs/reference/examples/index.html'>Index</a></li><li><a href='/docs/reference/examples/renderer.html'>Renderer</a></li><li><a href='/docs/reference/examples/runtime.html'>Runtime</a></li><li><a href='/docs/reference/examples/scheduler.html'>Scheduler</a></li><li><a href='/docs/reference/examples/tauri-bridge.html'>Tauri Bridge</a></li></ul></li><li><a href='/docs/reference/packages.html'>Packages</a></li></ul></li><li class='folder'><span class='folder-name'>renderer</span><ul><li><a href='/docs/renderer/gl.html'>Gl</a></li><li><a href='/docs/renderer/materials.html'>Materials</a></li><li><a href='/docs/renderer/passes.html'>Passes</a></li><li><a href='/docs/renderer/shaders.html'>Shaders</a></li></ul></li><li><a href='/docs/runtime.html'>Runtime</a></li><li><a href='/docs/testing.html'>Testing</a></li></ul>
            </nav>
            <div class="sidebar-footer">
                <a class="github-link" href="https://github.com/quiet-terminal-interactive/clockwork" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                        <path
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                    </svg>
                    View on GitHub
                </a>
            </div>
        </aside>

        <main class="content">
            <header class="hero hide-hero">
                <img class="hero-logo" src="https://cdn.quietterminal.co.uk/6,19416eb58d" alt="Clcokwork Logo">
                <h1>Clockwork</h1>
                <p>Clockwork is a TypeScript-first, modular game engine workspace focused on ECS-driven runtime systems and a WebGL2 renderer stack.</p>
                <div class="button-group">
                    <a class="ghbutton" href="https://github.com/quiet-terminal-interactive/clockwork" target="_blank">View on GitHub</a>
                    <a class="learnmore" href="getting-started.html">Get Started</a>
                </div>
            </header>

            <nav class="breadcrumbs" aria-label="Breadcrumb">
                <a href='../index.html'>Clockwork</a><span class='separator'>/</span><span>Reference</span><span class='separator'>/</span><span>Api</span><span class='separator'>/</span><span class='current'>App</span>
            </nav>

            <div class="doc-layout">
                <article class="doc-content">
                    <h1 class="page-title">API Reference: qti-clockwork-app</h1>
                    <h1 id="api-reference-qti-clockwork-app">API Reference: qti-clockwork-app</h1>
<h2 id="appbuilder">AppBuilder</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Signature</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>use</code></td>
<td><code>(plugin: Plugin) =&gt; this</code></td>
<td>Registers plugin by id; duplicate ids throw.</td>
</tr>
<tr>
<td><code>remove</code></td>
<td><code>(pluginId: string) =&gt; this</code></td>
<td>Unregisters plugin if possible; blocks removal when dependents exist.</td>
</tr>
<tr>
<td><code>build</code></td>
<td><code>() =&gt; App</code></td>
<td>Initializes plugins, creates <code>World</code>, <code>EventBus</code>, <code>Scheduler</code>, installs systems/resources.</td>
</tr>
<tr>
<td><code>setActivePlugin</code></td>
<td><code>(pluginId?: string) =&gt; void</code></td>
<td>Internal ownership context for registries.</td>
</tr>
</tbody>
</table>
<h2 id="app">App</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Signature</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>run</code></td>
<td><code>() =&gt; void</code></td>
<td>Starts scheduler execution state.</td>
</tr>
<tr>
<td><code>step</code></td>
<td><code>(dt: number) =&gt; Promise&lt;void&gt;</code></td>
<td>Executes one frame/tick.</td>
</tr>
<tr>
<td><code>shutdown</code></td>
<td><code>() =&gt; Promise&lt;void&gt;</code></td>
<td>Runs scheduler shutdown then plugin shutdown in reverse order.</td>
</tr>
</tbody>
</table>
<h2 id="pluginmanager">PluginManager</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Signature</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>register</code></td>
<td><code>(plugin: Plugin) =&gt; void</code></td>
<td>Adds plugin; duplicate id throws.</td>
</tr>
<tr>
<td><code>unregister</code></td>
<td><code>(pluginId: string) =&gt; void</code></td>
<td>Stops/removes plugin; dependent plugins block removal.</td>
</tr>
<tr>
<td><code>reload</code></td>
<td><code>(pluginId: string) =&gt; void</code></td>
<td>Calls plugin reload if present; errors are logged and isolated.</td>
</tr>
<tr>
<td><code>initialize</code></td>
<td><code>(builder: AppBuilder) =&gt; void</code></td>
<td>Dependency-resolves and runs <code>init</code> in topological order.</td>
</tr>
<tr>
<td><code>shutdownAll</code></td>
<td><code>(app: App) =&gt; void</code></td>
<td>Executes <code>shutdown</code> in reverse initialization order.</td>
</tr>
<tr>
<td><code>attachApp</code></td>
<td><code>(app: App) =&gt; void</code></td>
<td>Links built app to manager for lifecycle operations.</td>
</tr>
</tbody>
</table>
<h2 id="registries">Registries</h2>
<h3 id="componentregistry">ComponentRegistry</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>register/get/remove</code></td>
<td>Ownership-safe component schema storage keyed by registry token.</td>
</tr>
<tr>
<td><code>setActiveOwner</code></td>
<td>Controls write ownership enforcement.</td>
</tr>
</tbody>
</table>
<h3 id="systemregistry">SystemRegistry</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add/remove</code></td>
<td>Stores systems + stage + optional order.</td>
</tr>
<tr>
<td><code>installTo</code></td>
<td>Installs staged systems into scheduler.</td>
</tr>
</tbody>
</table>
<h3 id="resourceregistry">ResourceRegistry</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>insert/get/remove</code></td>
<td>Ownership-safe resource registration.</td>
</tr>
<tr>
<td><code>installTo</code></td>
<td>Inserts registered resources into ECS world.</td>
</tr>
</tbody>
</table>
<h3 id="assetregistry">AssetRegistry</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>register/get/remove</code></td>
<td>Ownership-safe asset loader map by extension.</td>
</tr>
</tbody>
</table>
<h2 id="modmanager">ModManager</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Signature</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>discoverMods</code></td>
<td><code>(path?) =&gt; Promise&lt;string[]&gt;</code></td>
<td>Delegates directory listing through provided FS.</td>
</tr>
<tr>
<td><code>loadMod</code></td>
<td><code>(path: string) =&gt; Promise&lt;Mod&gt;</code></td>
<td>Reads <code>mod.json</code>, validates manifest, registers plugin wrapper.</td>
</tr>
<tr>
<td><code>unloadMod</code></td>
<td><code>(modId: string) =&gt; void</code></td>
<td>Unregisters plugin wrapper and stops watcher.</td>
</tr>
<tr>
<td><code>reloadMod</code></td>
<td><code>(modId: string, path: string) =&gt; Promise&lt;void&gt;</code></td>
<td>Unload + load sequence.</td>
</tr>
<tr>
<td><code>watchMod</code></td>
<td><code>(modId, path, onReload) =&gt; void</code></td>
<td>Registers watch callback with guarded error logging.</td>
</tr>
<tr>
<td><code>getLoadedMods</code></td>
<td><code>() =&gt; Mod[]</code></td>
<td>Returns current loaded mods snapshot.</td>
</tr>
</tbody>
</table>
<h2 id="gotchas">Gotchas</h2>
<ul>
<li>Plugin ownership enforcement means shared keys must be coordinated intentionally.</li>
<li>Reload callback errors are logged, not thrown.</li>
<li>Manifest <code>assets</code> paths reject traversal (<code>..</code>), absolute, and drive-qualified paths.</li>
</ul>

                    <div class="page-meta">
                        <span class="last-modified">Last updated: February 16, 2026</span>
                    </div>
                </article>

                <nav class='toc'><h4>On This Page</h4><ul><li style='margin-left:0px'><a href='#appbuilder'>AppBuilder</a></li><li style='margin-left:0px'><a href='#app'>App</a></li><li style='margin-left:0px'><a href='#pluginmanager'>PluginManager</a></li><li style='margin-left:0px'><a href='#registries'>Registries</a></li><li style='margin-left:20px'><a href='#componentregistry'>ComponentRegistry</a></li><li style='margin-left:20px'><a href='#systemregistry'>SystemRegistry</a></li><li style='margin-left:20px'><a href='#resourceregistry'>ResourceRegistry</a></li><li style='margin-left:20px'><a href='#assetregistry'>AssetRegistry</a></li><li style='margin-left:0px'><a href='#modmanager'>ModManager</a></li><li style='margin-left:0px'><a href='#gotchas'>Gotchas</a></li></ul></nav>
            </div>

            <footer class="doc-footer">
                <div class="footer-content">
                    <div class="alpha-banner">Theme colours designed by MothDebugged.</div>
                    <div class="footer-links">
                        <a href="https://github.com/quiet-terminal-interactive/clockwork/issues" target="_blank">Report Issue</a>
                        <span class="separator">•</span>
                        <a href="https://github.com/quiet-terminal-interactive/clockwork/blob/main/LICENSE" target="_blank">License</a>
                        <span class="separator">•</span>
                        <a href="https://github.com/quiet-terminal-interactive/clockwork" target="_blank">Contribute</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.toc a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    if (entry.isIntersecting) {
                        document.querySelectorAll('.toc a').forEach(link => {
                            link.classList.remove('active');
                        });
                        const activeLink = document.querySelector(`.toc a[href="#${id}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, { rootMargin: '-20% 0px -80% 0px' });

            document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
                observer.observe(heading);
            });
        });
    </script>
</body>

</html>